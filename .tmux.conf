# ==========================================================
# ИСПРАВЛЕННЫЕ ПРИВЯЗКИ: Alt + N (Переключить ИЛИ Создать)
# Используем run-shell для корректной интерпретации оператора ||
# ==========================================================

# ==========================================================
# ТЕМА TMUX (в стиле Waybar)
# ==========================================================

# 1. СТАТУС-БАР СВЕРХУ
set -g status-position top

# Базовые настройки статус-бара
set -g status-interval 1
set -g status-fg white
set -g status-bg '#1a1a1a'
set -g status-justify left # ВЫРАВНИВАНИЕ ПО ЛЕВОМУ КРАЮ

# --- ОКНА (Workspaces) ---

# ИСПОЛЬЗУЕМ set -g (глобально)
# Стиль неактивного окна (аналог #workspaces button)
set -g window-status-style fg='#aaaaaa',bg='#1a1a1a'
set -g window-status-format ' #I:#W '

# Стиль АКТИВНОГО окна (аналог #workspaces button.focused)
set -g window-status-current-style fg=white,bg='#5a5a5a',bold
set -g window-status-current-format ' #I:#W '

# 2. РАЗМЕЩЕНИЕ КОМПОНЕНТОВ

# status-left: Вставляем список окон прямо в левую часть
# Важно: Секция #[align=left] нужна, если вы хотите жестко контролировать размещение, 
# но с 'status-justify left' это часто не требуется.
# Здесь просто оставляем пустую строку, так как 'status-justify left' разместит окна
set -g status-left '' 

# Правая часть: Время и Дата
set -g status-right '#[fg=white,bg=#1a1a1a] %H:%M %d-%b-%y '

# ВАЖНО: В старых версиях Tmux (до 2.9) нужно явно включать отображение окон:
set -g status-left-length 100 # Увеличим длину левой части, чтобы вместить все окна

# УДАЛЯЕМ/НЕ ИСПОЛЬЗУЕМ: set -w window-status-separator " | "
# Установить начальный индекс окна (рабочего пространства) на 1
set -g base-index 1

# ==========================================================
# ВКЛЮЧИТЬ ПОЛНУЮ ПОДДЕРЖКУ МЫШИ
# ==========================================================
set -g mouse on

# ==========================================================
# РАЗДЕЛЕНИЕ ЭКРАНА: Alt + `
# ==========================================================
# Вертикальное разделение (новый экран справа)
bind -n M-` split-window -h
# Горизонтальное разделение (новый экран снизу)
# Если вы предпочитаете горизонтальное разделение, замените M-` на M-!
# bind -n M-` split-window -v

# ==========================================================
# ПЕРЕКЛЮЧЕНИЕ ПАНЕЛЕЙ: Alt + Tab
# ==========================================================
# Select-pane -L, -R, -U, -D используются для явного указания направления.
# Tmux использует select-pane -t :.+ для переключения на следующую панель.
bind -n M-Tab select-pane -t :.+

# Улучшенная привязка для FZF: поиск и открытие файла
# Это позволит вам выбрать файл и затем автоматически открыть его в Vim
bind -n M-f display-popup -E "find . -type f | fzf | xargs -r vim"

# Alt+1
bind -n M-1 run-shell "tmux select-window -t 1 || tmux new-window -t 1"
# Alt+2
bind -n M-2 run-shell "tmux select-window -t 2 || tmux new-window -t 2"
# Alt+3
bind -n M-3 run-shell "tmux select-window -t 3 || tmux new-window -t 3"
# Alt+4
bind -n M-4 run-shell "tmux select-window -t 4 || tmux new-window -t 4"
# Alt+5
bind -n M-5 run-shell "tmux select-window -t 5 || tmux new-window -t 5"
# Alt+6
bind -n M-6 run-shell "tmux select-window -t 6 || tmux new-window -t 6"
# Alt+7
bind -n M-7 run-shell "tmux select-window -t 7 || tmux new-window -t 7"
# Alt+8
bind -n M-8 run-shell "tmux select-window -t 8 || tmux new-window -t 8"
# Alt+9
bind -n M-9 run-shell "tmux select-window -t 9 || tmux new-window -t 9"
# Alt+0
bind -n M-0 run-shell "tmux select-window -t 10 || tmux new-window -t 10"
